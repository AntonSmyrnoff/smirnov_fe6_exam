function init(){for(var a=["sport","city","ocean","sky","nature","beauty","food","computer","science","technology","animal","winter","summer","autumn","river","mountain","office","new york","waterfall","africa","america","castle","horse","children","school","snow","sun","space"],b=0,c=0;c<7;c++){var d=Math.floor(Math.random()*a.length);$.ajax({url:"https://pixabay.com/api/?key=3981741-7a8eb8522a5415851535e06c2&q="+a[d]+"&image_type=photo&per_page=10",dataType:"jsonp",success:function(a){var d=a.hits[Math.floor(10*Math.random())];createGrid(a.hits[c].tags,d.webformatURL),b+=1,7===b&&isotopeLoad()}})}}function searchPic(){var a=$("#search-field").val();0!=a&&($(".grid-item").remove(),$.ajax({url:"https://pixabay.com/api/?key=3981741-7a8eb8522a5415851535e06c2&q="+a+"&image_type=all&per_page=7&min_width=600",dataType:"jsonp",success:function(a){0!=a.total&&($.each(a.hits,function(b,c){createGrid(a.hits[b].tags,a.hits[b].webformatURL)}),isotopeLoad())}}),$("#search-field").val(""))}function createGrid(a,b){var c=document.createElement("div");c.className+=" grid-item",c.style.background="url("+b+") 50% no-repeat";var d=document.createElement("a");d.setAttribute("href","#"),d.innerHTML=a,c.appendChild(d),$("#wrapper").append(c)}function carousel(){$(".jcarousel").on("jcarousel:create jcarousel:reload",function(){var a=$(this),b=a.innerWidth();a.jcarousel("items").css("width",b+"px")}).jcarousel({wrap:"circular"}),$(".jcarousel-prev").jcarouselControl({target:"-=1"}),$(".jcarousel-next").jcarouselControl({target:"+=1"})}function isotopeLoad(){$(".grid-item:eq(4)").addClass("grid-item--width2"),$(".grid-item:eq(5)").addClass("grid-item--width2");var a=$(".grid");$(window).width()<=415?(a.isotope({layoutMode:"fitRows",itemSelector:".grid-item",columnWidth:300,fitRows:{gutter:18}}),a.isotope("reloadItems").isotope()):(a.isotope({layoutMode:"fitRows",itemSelector:".grid-item",percentPosition:!0,fitRows:{gutter:18}}),a.isotope("reloadItems").isotope()),$(".grid-item").css({"background-size":"cover"})}$(function(){init(),$("#search").on("click",searchPic),$("#search-field").keypress(function(a){13==a.keyCode&&searchPic()}),carousel()});